[gd_scene load_steps=8 format=3 uid="uid://jx72y87c7ysq"]

[ext_resource type="Script" uid="uid://d0ad6bibyrsdr" path="res://Rails/rail_setment/rail_segment.gd" id="1_3o5ql"]
[ext_resource type="Material" uid="uid://dw0olshq03fku" path="res://Rails/rail_setment/material_rail_metail.material" id="2_iwxy6"]
[ext_resource type="Material" uid="uid://blhjihxmpbdy" path="res://Rails/rail_setment/rail_wood.material" id="3_iwxy6"]

[sub_resource type="Curve3D" id="Curve3D_m6w3m"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, -2.15, 1.05, 0.55, -1.89, 0, -0.26, 1.89, 0, 0.26, -4.8, 0.0500001, -0.15, 0, 0, 0, 0, 0, 0, -4.8, 1.05, -3.55, 0, 0, 0, 0, 0, 0, -1.95, 0.65, -4, 0, 0, 0, 0, 0, 0, -1.95, 0.0500001, -6.95, 0, 0, 0, 0, 0, 0, 0.55, 0.0500001, -5.85, 0, 0, 0, 0, 0, 0, 0.55, 0.0500001, -1),
"tilts": PackedFloat32Array(0, 0, 0, 0, 0, 0, 0)
}
point_count = 7

[sub_resource type="BoxMesh" id="BoxMesh_qc7oo"]
material = ExtResource("3_iwxy6")
size = Vector3(1.2, 0.05, 0.2)

[sub_resource type="MultiMesh" id="MultiMesh_3o5ql"]
transform_format = 1
instance_count = 58
mesh = SubResource("BoxMesh_qc7oo")
buffer = PackedFloat32Array(0.211996, -0.208787, 0.954526, -2.32804, -0.0130452, 0.97622, 0.217235, 1.01005, -0.977184, -0.0583278, 0.20418, 0.512108, 0.214189, -0.214979, 0.952664, -2.67932, -0.0125382, 0.974795, 0.223554, 0.929156, -0.976712, -0.0596578, 0.206046, 0.436646, 0.216383, -0.221103, 0.950752, -3.03104, -0.0120155, 0.973342, 0.229883, 0.845719, -0.976235, -0.0609876, 0.207906, 0.360273, 0.218946, -0.228126, 0.948457, -3.38289, -0.0113853, 0.971622, 0.237277, 0.759605, -0.975671, -0.0625308, 0.21007, 0.282983, 0.222156, -0.236857, 0.945487, -3.73392, -0.0105653, 0.969403, 0.246542, 0.670506, -0.974954, -0.0644762, 0.21277, 0.204805, 0.226536, -0.248639, 0.941262, -4.0837, -0.00939157, 0.966266, 0.259197, 0.57757, -0.973957, -0.0671493, 0.216432, 0.125512, 0.233289, -0.266412, 0.934358, -4.43166, -0.00745629, 0.961219, 0.278709, 0.479158, -0.972379, -0.0712871, 0.222029, 0.0446314, 0.246097, -0.298516, 0.91991, -4.77551, -0.0033581, 0.951122, 0.315785, 0.371978, -0.969239, -0.0790906, 0.232477, -0.0386233, 0.313964, -0.416343, 0.811313, -5.11332, 0.0274163, 0.902324, 0.511452, 0.245916, -0.949039, -0.111669, 0.283176, -0.127382, 0.132301, -0.0153125, -0.99111, -5.07733, 0.614859, -0.782994, 0.0709573, 0.0605973, -0.777461, -0.62184, -0.112541, -0.184597, 0.0152028, 0.0587202, -0.998658, -4.70944, 0.614194, -0.788286, -0.0297402, 0.0508489, -0.789009, -0.6125, -0.0423932, -0.141043, -0.429707, -0.0980264, -0.894044, -4.34566, 0.569192, -0.801124, -0.159318, 0.0772539, -0.70098, -0.590417, 0.418691, -0.180161, -0.854567, -0.280964, -0.428599, -4.07312, 0.431216, -0.852571, -0.270853, 0.154589, -0.289429, -0.440661, 0.861941, -0.405608, -0.941549, -0.327211, -0.0757594, -3.96934, 0.335929, -0.894135, -0.284175, 0.257871, 0.0252481, -0.305704, 0.955775, -0.742491, -0.939532, -0.328287, 0.099669, -3.96822, 0.290051, -0.914185, -0.277048, 0.362395, 0.182071, -0.237685, 0.955673, -1.09772, -0.92542, -0.322968, 0.199583, -4.01995, 0.264349, -0.924988, -0.269048, 0.4638, 0.271508, -0.200222, 0.942221, -1.44961, -0.911023, -0.317271, 0.264351, -4.10319, 0.247874, -0.931822, -0.262268, 0.562446, 0.32954, -0.176203, 0.928081, -1.79646, -0.898028, -0.312079, 0.310796, -4.2077, 0.236157, -0.936637, -0.256597, 0.65879, 0.371182, -0.159118, 0.915185, -2.1384, -0.886411, -0.307428, 0.346619, -4.32789, 0.227178, -0.940302, -0.251738, 0.753173, 0.403318, -0.146018, 0.903595, -2.47584, -0.875688, -0.303158, 0.376309, -4.46041, 0.219776, -0.943292, -0.247377, 0.845789, 0.429964, -0.135264, 0.892858, -2.80897, -0.865069, -0.299008, 0.40324, -4.60351, 0.213094, -0.945934, -0.243155, 0.936865, 0.454144, -0.125708, 0.882198, -3.13831, -0.878646, -0.318575, 0.375393, -4.76444, 0.218187, -0.930441, -0.234004, 1.02763, 0.424707, -0.181076, 0.89684, -3.46395, -0.0785603, -0.191183, -0.978405, -4.53725, 0.444268, -0.885308, 0.137321, 1.01312, -0.892443, -0.423886, 0.154487, -3.59149, -0.0785603, -0.191183, -0.978405, -4.17593, 0.444268, -0.885308, 0.13732, 0.962411, -0.892443, -0.423886, 0.154487, -3.64854, -0.0785618, -0.191183, -0.978405, -3.81358, 0.444268, -0.885308, 0.13732, 0.911555, -0.892443, -0.423886, 0.154488, -3.70575, -0.0785608, -0.191183, -0.978406, -3.45126, 0.444268, -0.885308, 0.137319, 0.860703, -0.892443, -0.423886, 0.154487, -3.76296, -0.078554, -0.191183, -0.978407, -3.08903, 0.444267, -0.885308, 0.137319, 0.809864, -0.892444, -0.423886, 0.154479, -3.82015, -0.0785626, -0.191183, -0.978405, -2.72713, 0.444268, -0.885308, 0.137319, 0.759071, -0.892443, -0.423886, 0.154489, -3.8773, -0.0785583, -0.191183, -0.978406, -2.36918, 0.444267, -0.885308, 0.137321, 0.708832, -0.892443, -0.423886, 0.154485, -3.93381, -0.549037, -0.191183, -0.696789, -1.99367, 0.454427, -0.885308, 0.214621, 0.657921, -0.701465, -0.423886, 0.684414, -3.98429, -0.730958, -0.682423, 2.24395e-06, -1.95, 0.668732, -0.716292, 0.199308, 0.587384, -0.136011, 0.145687, 0.979937, -4.30786, -0.730958, -0.682423, 1.19555e-06, -1.95, 0.668731, -0.716292, 0.19931, 0.513401, -0.136013, 0.145687, 0.979936, -4.67161, -0.730958, -0.682423, -2.38482e-06, -1.95, 0.668731, -0.716292, 0.199309, 0.439656, -0.136015, 0.145687, 0.979937, -5.03419, -0.730958, -0.682423, 0, -1.95, 0.668731, -0.716292, 0.199309, 0.365864, -0.136013, 0.145687, 0.979937, -5.397, -0.730958, -0.682423, 2.38006e-06, -1.95, 0.668731, -0.716292, 0.19931, 0.292089, -0.136012, 0.145687, 0.979936, -5.75973, -0.730958, -0.682423, 2.37588e-06, -1.95, 0.668731, -0.716292, 0.199309, 0.218285, -0.136011, 0.145687, 0.979937, -6.1226, -0.730958, -0.682423, -1.20362e-06, -1.95, 0.668731, -0.716292, 0.199312, 0.144913, -0.136016, 0.145687, 0.979936, -6.48334, -0.730956, -0.682423, 0.00242709, -1.95158, 0.669113, -0.716292, 0.199098, 0.0702547, -0.13413, 0.145687, 0.979977, -6.85111, 0.363453, 0.173491, -0.915316, -1.70818, 0.430778, -0.902458, 0, 0.0500001, -0.826034, -0.394298, -0.402737, -6.8436, 0.363463, 0.173491, -0.915311, -1.36856, 0.430778, -0.902458, 7.46387e-08, 0.0500001, -0.82603, -0.394298, -0.402748, -6.69417, 0.363457, 0.173491, -0.915314, -1.03002, 0.430778, -0.902458, 0, 0.0500001, -0.826032, -0.394298, -0.402741, -6.54521, 0.363452, 0.173491, -0.915317, -0.691179, 0.430778, -0.902458, 0, 0.0500001, -0.826035, -0.394298, -0.402735, -6.39612, 0.363445, 0.173491, -0.91532, -0.352513, 0.430778, -0.902458, 0, 0.0500001, -0.826038, -0.394298, -0.402728, -6.24711, 0.363453, 0.173491, -0.915316, -0.0134616, 0.430778, -0.902458, 0, 0.0500001, -0.826034, -0.394298, -0.402737, -6.09792, 0.363452, 0.173491, -0.915316, 0.325585, 0.430778, -0.902458, 0, 0.0500001, -0.826035, -0.394298, -0.402736, -5.94874, 0.902458, 0.430778, 5.60068e-07, 0.55, 0.430778, -0.902458, 0, 0.0500001, 5.05438e-07, 0, -1, -5.7303, 0.902458, 0.430778, 0, 0.55, 0.430778, -0.902458, 0, 0.0500001, 0, 0, -1, -5.35787, 0.902458, 0.430778, 5.85579e-07, 0.55, 0.430778, -0.902458, 0, 0.0500001, 5.2846e-07, 0, -1, -4.98759, 0.902458, 0.430778, -5.95905e-07, 0.55, 0.430778, -0.902458, 0, 0.0500001, -5.37779e-07, 0, -1, -4.61612, 0.902458, 0.430778, 0, 0.55, 0.430778, -0.902458, 0, 0.0500001, 0, 0, -1, -4.2462, 0.902458, 0.430778, -5.96195e-07, 0.55, 0.430778, -0.902458, 0, 0.0500001, -5.38041e-07, 0, -1, -3.87602, 0.902458, 0.430778, 0, 0.55, 0.430778, -0.902458, 0, 0.0500001, 0, 0, -1, -3.50603, 0.902458, 0.430778, 0, 0.55, 0.430778, -0.902458, 0, 0.0500001, 0, 0, -1, -3.13594, 0.902458, 0.430778, 1.7872e-06, 0.55, 0.430778, -0.902458, 0, 0.0500001, 1.61287e-06, 0, -1, -2.76593, 0.902458, 0.430778, 0, 0.55, 0.430778, -0.902458, 0, 0.0500001, 0, 0, -1, -2.39578, 0.902458, 0.430778, 0, 0.55, 0.430778, -0.902458, 0, 0.0500001, 0, 0, -1, -2.03062, 0.902458, 0.430778, 0, 0.55, 0.430778, -0.902458, 0, 0.0500001, 0, 0, -1, -1.65421, 0.902458, 0.430778, 0, 0.55, 0.430778, -0.902458, 0, 0.0500001, 0, 0, -1, -1.28591)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_iwxy6"]
transparency = 1
albedo_color = Color(1, 0, 0, 0.270588)

[node name="RailSegment" type="Node3D"]
script = ExtResource("1_3o5ql")
plank_interval = 0.37

[node name="SegmentPath" type="Path3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.581619, 0, 1.66097)
curve = SubResource("Curve3D_m6w3m")

[node name="TrackRight" type="CSGPolygon3D" parent="SegmentPath"]
polygon = PackedVector2Array(0.51, 0.09, 0.54, 0.09, 0.57, 0.05, 0.56, 0, 0.49, 0, 0.48, 0.05)
mode = 2
path_node = NodePath("..")
path_interval_type = 0
path_interval = 0.1
path_simplify_angle = 0.0
path_rotation = 2
path_rotation_accurate = false
path_local = true
path_continuous_u = true
path_u_distance = 1.0
path_joined = false
smooth_faces = true
material = ExtResource("2_iwxy6")

[node name="TrackLeft" type="CSGPolygon3D" parent="SegmentPath"]
polygon = PackedVector2Array(-0.52, 0, -0.53, 0.05, -0.5, 0.09, -0.47, 0.09, -0.44, 0.05, -0.45, 0)
mode = 2
path_node = NodePath("..")
path_interval_type = 0
path_interval = 0.1
path_simplify_angle = 0.0
path_rotation = 2
path_rotation_accurate = false
path_local = true
path_continuous_u = true
path_u_distance = 1.0
path_joined = false
smooth_faces = true
material = ExtResource("2_iwxy6")

[node name="TrackPlanks" type="MultiMeshInstance3D" parent="SegmentPath"]
multimesh = SubResource("MultiMesh_3o5ql")

[node name="HitBox" type="CSGPolygon3D" parent="SegmentPath"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.05, 0, 0)
visible = false
polygon = PackedVector2Array(-1.2, 0.05, -1.2, 0.95, 1.2, 0.95, 1.2, 0.05)
mode = 2
path_node = NodePath("..")
path_interval_type = 0
path_interval = 0.5
path_simplify_angle = 0.0
path_rotation = 2
path_rotation_accurate = false
path_local = true
path_continuous_u = true
path_u_distance = 1.0
path_joined = false
material = SubResource("StandardMaterial3D_iwxy6")

[connection signal="curve_changed" from="SegmentPath" to="." method="_on_path_3d_curve_changed"]
