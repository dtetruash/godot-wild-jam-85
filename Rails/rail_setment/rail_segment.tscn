[gd_scene load_steps=8 format=3 uid="uid://jx72y87c7ysq"]

[ext_resource type="Script" uid="uid://d0ad6bibyrsdr" path="res://Rails/rail_setment/rail_segment.gd" id="1_3o5ql"]
[ext_resource type="Material" uid="uid://dw0olshq03fku" path="res://Rails/rail_setment/material_rail_metail.material" id="2_iwxy6"]
[ext_resource type="Material" uid="uid://blhjihxmpbdy" path="res://Rails/rail_setment/rail_wood.material" id="3_iwxy6"]

[sub_resource type="Curve3D" id="Curve3D_m6w3m"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, -6.23162, -0.65, -0.91097, -1.89, 0, -0.26, 1.89, 0, 0.26, -3.28162, 0.75, 1.98903, 0, 0, 0, 0, 0, 0, 2.91838, 0.2, 0.23903),
"tilts": PackedFloat32Array(0, 0, 0)
}
point_count = 3

[sub_resource type="BoxMesh" id="BoxMesh_qc7oo"]
material = ExtResource("3_iwxy6")
size = Vector3(1.2, 0.05, 0.2)

[sub_resource type="MultiMesh" id="MultiMesh_3o5ql"]
transform_format = 1
instance_count = 29
mesh = SubResource("BoxMesh_qc7oo")
buffer = PackedFloat32Array(-0.873007, -0.303731, -0.382467, -6.16469, -0.121932, 0.893483, -0.429622, -0.569442, 0.472219, -0.330811, -0.818012, -0.758244, -0.856341, -0.296403, -0.423545, -6.01803, -0.104404, 0.901339, -0.418311, -0.412619, 0.505747, -0.315807, -0.803508, -0.45868, -0.839061, -0.289037, -0.461546, -5.85585, -0.0882948, 0.908311, -0.406851, -0.25906, 0.536824, -0.302373, -0.788319, -0.162796, -0.819055, -0.280637, -0.501084, -5.67991, -0.0716526, 0.915404, -0.393843, -0.11032, 0.569223, -0.288579, -0.770586, 0.126397, -0.795061, -0.270595, -0.54358, -5.48874, -0.05391, 0.92295, -0.378533, 0.0335679, 0.604129, -0.273755, -0.749155, 0.40904, -0.765293, -0.258174, -0.590475, -5.28134, -0.0345236, 0.931184, -0.359879, 0.171322, 0.642756, -0.257377, -0.722375, 0.682988, -0.72728, -0.242369, -0.643053, -5.05591, -0.0130588, 0.94029, -0.336489, 0.301532, 0.686217, -0.238979, -0.687937, 0.945976, -0.677567, -0.221762, -0.702258, -4.81017, 0.0107083, 0.950381, -0.30646, 0.422231, 0.735383, -0.218167, -0.642585, 1.19481, -0.611314, -0.194363, -0.768251, -4.5416, 0.0365678, 0.961399, -0.2672, 0.530639, 0.790543, -0.194769, -0.581716, 1.4249, -0.522271, -0.157461, -0.839191, -4.2478, 0.0633237, 0.972931, -0.215477, 0.62293, 0.850425, -0.169147, -0.499327, 1.62973, -0.404052, -0.108259, -0.909172, -3.92761, 0.0879396, 0.983775, -0.148227, 0.694027, 0.910499, -0.143059, -0.389147, 1.80044, -0.254506, -0.0455503, -0.966387, -3.58293, 0.104966, 0.991688, -0.064998, 0.737992, 0.961358, -0.120336, -0.248741, 1.92619, -0.0867185, 0.0174557, -0.996003, -3.22123, 0.10859, 0.994055, 0.0119232, 0.749999, 0.990297, -0.107473, -0.0885256, 1.99646, 0.0382468, 0.0305941, -0.998741, -2.84489, 0.105659, 0.993804, 0.0363372, 0.742158, 0.993667, -0.106851, 0.0345783, 2.01199, 0.111959, 0.0390214, -0.99291, -2.48198, 0.102395, 0.993457, 0.0514991, 0.726839, 0.988423, -0.107337, 0.107132, 1.98942, 0.167548, 0.0449066, -0.98481, -2.11567, 0.0991801, 0.993126, 0.0628306, 0.70615, 0.980862, -0.108091, 0.161869, 1.9419, 0.209166, 0.0492848, -0.976611, -1.75238, 0.0963341, 0.992833, 0.0712537, 0.681701, 0.973123, -0.108879, 0.202862, 1.87617, 0.241727, 0.0526958, -0.96889, -1.39203, 0.0938389, 0.992575, 0.0778058, 0.654405, 0.965796, -0.10963, 0.234942, 1.79656, 0.268089, 0.0554392, -0.961779, -1.03458, 0.0916417, 0.992348, 0.083088, 0.624878, 0.959026, -0.110324, 0.260919, 1.706, 0.290037, 0.0577181, -0.955256, -0.679596, 0.0896888, 0.992147, 0.0874701, 0.593519, 0.952804, -0.110962, 0.28255, 1.60642, 0.308742, 0.0596558, -0.949258, -0.326922, 0.0879339, 0.991967, 0.0911931, 0.560631, 0.947072, -0.11155, 0.300987, 1.4993, 0.324978, 0.0613351, -0.943717, 0.0235422, 0.0863419, 0.991803, 0.0944129, 0.526443, 0.941772, -0.112094, 0.316994, 1.38571, 0.339306, 0.0628114, -0.938564, 0.372099, 0.084883, 0.991653, 0.0972487, 0.49111, 0.936839, -0.112599, 0.331119, 1.26644, 0.352193, 0.0641365, -0.933716, 0.718788, 0.0835267, 0.991514, 0.0997921, 0.454768, 0.932193, -0.113074, 0.343827, 1.14215, 0.363964, 0.0653445, -0.929107, 1.0637, 0.0822508, 0.991384, 0.102111, 0.417519, 0.927774, -0.113525, 0.355435, 1.01331, 0.374912, 0.0664649, -0.924664, 1.40693, 0.081032, 0.99126, 0.104263, 0.379436, 0.923512, -0.113959, 0.366231, 0.880296, 0.385316, 0.0675264, -0.920301, 1.74836, 0.0798446, 0.991139, 0.106305, 0.340592, 0.919324, -0.114384, 0.376492, 0.743434, 0.395267, 0.0685626, -0.915995, 2.0828, 0.0786819, 0.991018, 0.108254, 0.301626, 0.91519, -0.114813, 0.386307, 0.605035, 0.406142, 0.0696281, -0.911142, 2.42837, 0.0773806, 0.990891, 0.11038, 0.260421, 0.910528, -0.115268, 0.397035, 0.457568)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_iwxy6"]
transparency = 1
albedo_color = Color(1, 0, 0, 0.270588)

[node name="RailSegment" type="Node3D"]
script = ExtResource("1_3o5ql")
plank_interval = 0.37

[node name="SegmentPath" type="Path3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.581619, 0, 1.66097)
curve = SubResource("Curve3D_m6w3m")

[node name="TrackRight" type="CSGPolygon3D" parent="SegmentPath"]
polygon = PackedVector2Array(0.51, 0.09, 0.54, 0.09, 0.57, 0.05, 0.56, 0, 0.49, 0, 0.48, 0.05)
mode = 2
path_node = NodePath("..")
path_interval_type = 0
path_interval = 0.1
path_simplify_angle = 0.0
path_rotation = 2
path_rotation_accurate = false
path_local = true
path_continuous_u = true
path_u_distance = 1.0
path_joined = false
smooth_faces = true
material = ExtResource("2_iwxy6")

[node name="TrackLeft" type="CSGPolygon3D" parent="SegmentPath"]
polygon = PackedVector2Array(-0.52, 0, -0.53, 0.05, -0.5, 0.09, -0.47, 0.09, -0.44, 0.05, -0.45, 0)
mode = 2
path_node = NodePath("..")
path_interval_type = 0
path_interval = 0.1
path_simplify_angle = 0.0
path_rotation = 2
path_rotation_accurate = false
path_local = true
path_continuous_u = true
path_u_distance = 1.0
path_joined = false
smooth_faces = true
material = ExtResource("2_iwxy6")

[node name="TrackPlanks" type="MultiMeshInstance3D" parent="SegmentPath"]
multimesh = SubResource("MultiMesh_3o5ql")

[node name="HitBox" type="CSGPolygon3D" parent="SegmentPath"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.05, 0, 0)
visible = false
polygon = PackedVector2Array(-1.2, 0.05, -1.2, 0.95, 1.2, 0.95, 1.2, 0.05)
mode = 2
path_node = NodePath("..")
path_interval_type = 0
path_interval = 0.5
path_simplify_angle = 0.0
path_rotation = 2
path_rotation_accurate = false
path_local = true
path_continuous_u = true
path_u_distance = 1.0
path_joined = false
material = SubResource("StandardMaterial3D_iwxy6")

[connection signal="curve_changed" from="SegmentPath" to="." method="_on_path_3d_curve_changed"]
