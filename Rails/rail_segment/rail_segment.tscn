[gd_scene load_steps=8 format=3 uid="uid://jx72y87c7ysq"]

[ext_resource type="Script" uid="uid://d0ad6bibyrsdr" path="res://Rails/rail_segment/rail_segment.gd" id="1_3o5ql"]
[ext_resource type="Material" uid="uid://dw0olshq03fku" path="res://Rails/rail_segment/material_rail_metail.material" id="2_iwxy6"]
[ext_resource type="Material" uid="uid://blhjihxmpbdy" path="res://Rails/rail_segment/rail_wood.material" id="3_iwxy6"]

[sub_resource type="Curve3D" id="Curve3D_m6w3m"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, -3.85, 0, -0.05, 0, 0, 0, 0, 0, 0, 3.3, 0, -0.05),
"tilts": PackedFloat32Array(0, 0)
}
point_count = 2

[sub_resource type="BoxMesh" id="BoxMesh_qc7oo"]
material = ExtResource("3_iwxy6")
size = Vector3(1.2, 0.05, 0.2)

[sub_resource type="MultiMesh" id="MultiMesh_3o5ql"]
transform_format = 1
instance_count = 19
mesh = SubResource("BoxMesh_qc7oo")
buffer = PackedFloat32Array(-3.77237e-08, 0, -1, -3.666, 0, 1, 0, 0, 1, 0, -3.77237e-08, -0.05, 0, 0, -1, -3.2922, 0, 1, 0, 0, 1, 0, 0, -0.05, 0, 0, -1, -2.9257, 0, 1, 0, 0, 1, 0, 0, -0.05, -3.71335e-08, 0, -1, -2.55556, 0, 1, 0, 0, 1, 0, -3.71335e-08, -0.05, -3.73564e-08, 0, -1, -2.18509, 0, 1, 0, 0, 1, 0, -3.73564e-08, -0.05, 0, 0, -1, -1.81539, 0, 1, 0, 0, 1, 0, 0, -0.05, 0, 0, -1, -1.4451, 0, 1, 0, 0, 1, 0, 0, -0.05, -1.11748e-07, 0, -1, -1.07512, 0, 1, 0, 0, 1, 0, -1.11748e-07, -0.05, 0, 0, -1, -0.705103, 0, 1, 0, 0, 1, 0, 0, -0.05, 0, 0, -1, -0.335014, 0, 1, 0, 0, 1, 0, 0, -0.05, 0, 0, -1, 0.035038, 0, 1, 0, 0, 1, 0, 0, -0.05, 3.72101e-08, 0, -1, 0.405049, 0, 1, 0, 0, 1, 0, 3.72101e-08, -0.05, 3.73301e-08, 0, -1, 0.775236, 0, 1, 0, 0, 1, 0, 3.73301e-08, -0.05, 3.72392e-08, 0, -1, 1.1453, 0, 1, 0, 0, 1, 0, 3.72392e-08, -0.05, -7.44457e-08, 0, -1, 1.51521, 0, 1, 0, 0, 1, 0, -7.44457e-08, -0.05, -3.71957e-08, 0, -1, 1.88544, 0, 1, 0, 0, 1, 0, -3.71957e-08, -0.05, 0, 0, -1, 2.25566, 0, 1, 0, 0, 1, 0, 0, -0.05, 7.43738e-08, 0, -1, 2.62055, 0, 1, 0, 0, 1, 0, 7.43738e-08, -0.05, 3.63172e-08, 0, -1, 2.99526, 0, 1, 0, 0, 1, 0, 3.63172e-08, -0.05)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_iwxy6"]
transparency = 1
albedo_color = Color(1, 0, 0, 0.270588)

[node name="RailSegment" type="Node3D"]
script = ExtResource("1_3o5ql")
plank_interval = 0.37

[node name="SegmentPath" type="Path3D" parent="."]
curve = SubResource("Curve3D_m6w3m")

[node name="TrackRight" type="CSGPolygon3D" parent="SegmentPath"]
polygon = PackedVector2Array(0.51, 0.09, 0.54, 0.09, 0.57, 0.05, 0.56, 0, 0.49, 0, 0.48, 0.05)
mode = 2
path_node = NodePath("..")
path_interval_type = 0
path_interval = 0.1
path_simplify_angle = 0.0
path_rotation = 2
path_rotation_accurate = false
path_local = true
path_continuous_u = true
path_u_distance = 1.0
path_joined = false
smooth_faces = true
material = ExtResource("2_iwxy6")

[node name="TrackLeft" type="CSGPolygon3D" parent="SegmentPath"]
polygon = PackedVector2Array(-0.52, 0, -0.53, 0.05, -0.5, 0.09, -0.47, 0.09, -0.44, 0.05, -0.45, 0)
mode = 2
path_node = NodePath("..")
path_interval_type = 0
path_interval = 0.1
path_simplify_angle = 0.0
path_rotation = 2
path_rotation_accurate = false
path_local = true
path_continuous_u = true
path_u_distance = 1.0
path_joined = false
smooth_faces = true
material = ExtResource("2_iwxy6")

[node name="TrackPlanks" type="MultiMeshInstance3D" parent="SegmentPath"]
multimesh = SubResource("MultiMesh_3o5ql")

[node name="HitBox" type="CSGPolygon3D" parent="SegmentPath"]
visible = false
polygon = PackedVector2Array(-1.2, 0.05, -1.2, 0.95, 1.2, 0.95, 1.2, 0.05)
mode = 2
path_node = NodePath("..")
path_interval_type = 0
path_interval = 0.5
path_simplify_angle = 0.0
path_rotation = 2
path_rotation_accurate = false
path_local = true
path_continuous_u = true
path_u_distance = 1.0
path_joined = false
material = SubResource("StandardMaterial3D_iwxy6")

[connection signal="curve_changed" from="SegmentPath" to="." method="_on_path_3d_curve_changed"]
