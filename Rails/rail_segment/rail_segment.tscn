[gd_scene load_steps=8 format=3 uid="uid://jx72y87c7ysq"]

[ext_resource type="Script" uid="uid://d0ad6bibyrsdr" path="res://Rails/rail_segment/rail_segment.gd" id="1_3o5ql"]
[ext_resource type="Material" uid="uid://dw0olshq03fku" path="res://Rails/rail_segment/material_rail_metail.material" id="2_iwxy6"]
[ext_resource type="Material" uid="uid://blhjihxmpbdy" path="res://Rails/rail_segment/rail_wood.material" id="3_iwxy6"]

[sub_resource type="Curve3D" id="Curve3D_m6w3m"]
_data = {
"points": PackedVector3Array(0, 0, 0, -2.6722, -0.000839174, 1.3987, 0.15, 0.95, -1.5, 1.05481, -0.00167853, 0.597814, -1.05513, 0.00167781, -0.597415, -6.25, 0.95, 0.7, -0.292706, 0.00587445, 1.20788, 0.29276, -0.00587261, -1.20816, -6.45, 0.95, -3.7, -0.0840254, -0.0218199, 0.0697837, 0.0840111, 0.0218123, -0.0697336, -6.05, 0.95, -4.8, -0.771117, 0.0814047, -0.137234, 0.770991, -0.0813766, 0.137143, -5.05, 0.95, -5.05, -0.73131, 0.0462008, -0.0708971, 0.731443, -0.046236, 0.0710011, -2.15, 0.6, -4.25, 0.0969352, 0.0837222, 0.570981, -0.0969028, -0.0836795, -0.570957, -1.45, 0.6, -5.2, -0.356291, 0.11891, 0.236781, 0.356168, -0.118946, -0.236871, -1.45, 0.1, -6.7, -0.97177, -0.0594642, -0.218402, 0, 0, 0, 0.85, 0.1, -6.5),
"tilts": PackedFloat32Array(0, 0, 0, 0, 0, 0, 0, 0, 0)
}
point_count = 9

[sub_resource type="BoxMesh" id="BoxMesh_qc7oo"]
material = ExtResource("3_iwxy6")
size = Vector3(1.2, 0.05, 0.2)

[sub_resource type="MultiMesh" id="MultiMesh_3o5ql"]
transform_format = 1
instance_count = 60
mesh = SubResource("BoxMesh_qc7oo")
buffer = PackedFloat32Array(-0.463539, -0.000246245, 0.886077, -0.0139154, 6.3359e-08, 1, 0.000278372, 0.949948, -0.886077, 0.000128891, -0.463539, -1.41421, -0.462391, -0.000244424, 0.886676, -0.341829, 4.21693e-07, 1, 0.000277101, 0.949846, -0.886676, 0.00012794, -0.462391, -1.24283, -0.460201, -0.000240666, 0.887815, -0.67007, 1.09593e-06, 1, 0.000270021, 0.949745, -0.887815, 0.000125984, -0.460201, -1.07199, -0.45692, -0.000234945, 0.889508, -0.998771, 2.08391e-06, 1, 0.000262322, 0.949645, -0.889508, 0.000123029, -0.45692, -0.90213, -0.452417, -0.000227051, 0.891806, -1.32817, 3.3963e-06, 1, 0.000254987, 0.949549, -0.891806, 0.000118992, -0.452417, -0.733645, -0.44657, -0.000216697, 0.894749, -1.65858, 5.02623e-06, 1, 0.0002426, 0.949456, -0.894749, 0.000113771, -0.44657, -0.56697, -0.439178, -0.00020359, 0.8984, -1.99011, 6.96741e-06, 1, 0.00022843, 0.949368, -0.8984, 0.000107279, -0.439178, -0.402685, -0.429953, -0.000187235, 0.902851, -2.32306, 9.20526e-06, 1, 0.000209855, 0.949286, -0.902851, 9.93601e-05, -0.429953, -0.241395, -0.418498, -0.000166937, 0.908218, -2.65776, 1.17035e-05, 1, 0.000185203, 0.949212, -0.908218, 8.98093e-05, -0.418498, -0.0838138, -0.404265, -0.000141695, 0.914642, -2.99465, 1.43821e-05, 1, 0.000159584, 0.949147, -0.914642, 7.83523e-05, -0.404265, 0.0692041, -0.386467, -0.000110172, 0.922303, -3.33405, 1.70819e-05, 1, 0.000122089, 0.949093, -0.922303, 6.46857e-05, -0.386467, 0.216491, -0.363908, -7.02354e-05, 0.931435, -3.6766, 1.94928e-05, 1, 7.63479e-05, 0.949054, -0.931435, 4.83684e-05, -0.363908, 0.356639, -0.33476, -1.88142e-05, 0.942303, -4.02274, 2.0984e-05, 1, 1.96693e-05, 0.949033, -0.942303, 2.89527e-05, -0.33476, 0.487606, -0.29601, 4.88975e-05, 0.955185, -4.37283, 2.02339e-05, 1, -5.63399e-05, 0.949036, -0.955185, 6.02999e-06, -0.29601, 0.606503, -0.242763, 0.000143005, 0.970086, -4.72917, 1.43086e-05, 1, -0.000158522, 0.949069, -0.970086, -2.10371e-05, -0.242763, 0.709639, -0.165452, 0.000277198, 0.986218, -5.09036, -3.87544e-06, 1, -0.000303604, 0.949146, -0.986218, -5.04334e-05, -0.165452, 0.789883, -0.0458052, 0.000482025, 0.99895, -5.45702, -5.32951e-05, 1, -0.000520046, 0.949285, -0.99895, -7.54535e-05, -0.0458051, 0.836519, 0.151182, 0.000818708, 0.988506, -5.82649, -0.000189287, 1, -0.000857695, 0.949519, -0.988506, -6.62748e-05, 0.151182, 0.829798, 0.467132, 0.00136644, 0.884187, -6.18225, -0.000559746, 0.999999, -0.00134774, 0.949899, -0.884187, 8.88512e-05, 0.467132, 0.734644, 0.778098, 0.00192906, 0.628139, -6.47688, -0.00118716, 0.999998, -0.00167783, 0.950454, -0.628141, 0.000499638, 0.778099, 0.515835, 0.926558, 0.0021574, 0.376145, -6.67311, -0.00168092, 0.999997, -0.00162994, 0.951076, -0.376147, 0.000845518, 0.92656, 0.203977, 0.979507, 0.00220672, 0.201396, -6.78655, -0.00196272, 0.999997, -0.00141874, 0.951652, -0.201399, 0.000987011, 0.979509, -0.14748, 0.996419, 0.00220769, 0.0845212, -6.84405, -0.00211652, 0.999997, -0.00116279, 0.952144, -0.0845236, 0.000985266, 0.996421, -0.513047, 0.999991, 0.0022031, 0.0035427, -6.86363, -0.00219993, 0.999997, -0.000878533, 0.952536, -0.00354463, 0.000888803, 0.999993, -0.882359, 0.998423, 0.00220663, -0.0560954, -6.85637, -0.00224375, 0.999997, -0.00057105, 0.952821, 0.056094, 0.000723679, 0.998425, -1.25253, 0.994797, 0.00222392, -0.101848, -6.82912, -0.00226252, 0.999997, -0.000227691, 0.952987, 0.101847, 0.000492527, 0.9948, -1.62156, 0.990428, 0.00225962, -0.138013, -6.78634, -0.00226389, 0.999997, 0.000172308, 0.953019, 0.138013, 0.000187633, 0.99043, -1.98916, 0.985887, 0.00231997, -0.167395, -6.73112, -0.00225197, 0.999997, 0.000657371, 0.952893, 0.167396, -0.000210655, 0.98589, -2.35519, 0.981429, 0.00241586, -0.191813, -6.66574, -0.00222848, 0.999997, 0.0012818, 0.952571, 0.191815, -0.000743006, 0.981431, -2.71935, 0.977226, 0.00257102, -0.212184, -6.59187, -0.00219366, 0.999996, 0.00213875, 0.95199, 0.212188, -0.00150249, 0.977227, -3.08214, 0.973551, 0.00283643, -0.228451, -6.51108, -0.00214808, 0.999992, 0.00348338, 0.951037, 0.228459, -0.00268471, 0.973549, -3.44308, 0.970778, 0.00336066, -0.239955, -6.42492, -0.0020944, 0.999983, 0.00586526, 0.949458, 0.23997, -0.00486766, 0.970766, -3.80278, 0.965614, 0.00426781, -0.259944, -6.33302, -0.00193094, 0.999955, 0.00982788, 0.946756, 0.259974, -0.00842469, 0.965574, -4.16439, 0.954664, 0.00587719, -0.297577, -6.23026, -0.00146455, 0.999886, 0.0222349, 0.942295, 0.297681, -0.0139288, 0.954439, -4.52009, 0.72324, -0.114873, -0.682058, -6.03151, -0.019722, 0.982231, -0.177107, 0.95366, 0.690316, 0.148414, 0.709528, -4.82006, 0.250224, 0.0025907, -0.967954, -5.73772, -0.0609659, 0.998054, 0.00617788, 0.991599, 0.966267, 0.0623006, 0.251051, -5.03417, -0.0501596, 0.0684602, -0.996006, -5.37512, -0.0474735, 0.996357, 0.076251, 0.97903, 0.997612, 0.0508559, -0.0464503, -5.08383, -0.207026, 0.0974351, -0.973206, -5.00938, -0.0326325, 0.993787, 0.109085, 0.945645, 0.977791, 0.053796, -0.202414, -5.04246, -0.271596, 0.109198, -0.956079, -4.65178, -0.024894, 0.992413, 0.121467, 0.903257, 0.962089, 0.0565052, -0.266757, -4.95726, -0.299691, 0.113686, -0.947198, -4.29675, -0.0212344, 0.991834, 0.126111, 0.857217, 0.9538, 0.0578022, -0.294809, -4.85341, -0.310336, 0.11472, -0.943683, -3.94821, -0.0198072, 0.991696, 0.127043, 0.810534, 0.950421, 0.0581263, -0.305488, -4.74298, -0.309944, 0.113503, -0.943995, -3.59901, -0.0198583, 0.991859, 0.125439, 0.76366, 0.950547, 0.0577312, -0.305187, -4.62966, -0.298625, 0.109989, -0.948089, -3.24918, -0.0213329, 0.992319, 0.121152, 0.717725, 0.954132, 0.056611, -0.294024, -4.51788, -0.273951, 0.103176, -0.95627, -2.90259, -0.0243706, 0.993165, 0.113407, 0.674522, 0.961435, 0.0545737, -0.269604, -4.41365, -0.218652, 0.0904465, -0.971807, -2.54017, -0.0304153, 0.99458, 0.0971445, 0.633714, 0.975329, 0.0512921, -0.214833, -4.31848, -0.0853926, 0.0617652, -0.994812, -2.17788, -0.0410568, 0.997011, 0.0589608, 0.601828, 0.995501, 0.0464172, -0.0829018, -4.25292, 0.262348, -0.000807214, -0.964952, -1.81353, -0.047076, 0.998798, -0.0193942, 0.590424, 0.963824, 0.049004, 0.261707, -4.26284, 0.891195, -0.0429316, -0.45171, -1.50659, 0.00703277, 0.996699, -0.0778782, 0.611353, 0.453565, 0.0689007, 0.888759, -4.45557, 0.999384, -0.0272983, 0.0214755, -1.41535, 0.0271497, 0.999607, 0.028353, 0.628738, -0.0222461, -0.00640399, 0.999367, -4.80946, 0.984315, -0.03755, 0.171688, -1.44614, 0.0141894, 0.990771, 0.15223, 0.603306, -0.175847, -0.130241, 0.973319, -5.1767, 0.976438, -0.0576005, 0.207334, -1.51712, 0.00629548, 0.970913, 0.249856, 0.532271, -0.215708, -0.232402, 0.945825, -5.53295, 0.984311, -0.0715889, 0.160639, -1.58989, 0.0188623, 0.951447, 0.315493, 0.430448, -0.175432, -0.29937, 0.935232, -5.88124, 0.996532, -0.0787793, -0.0278649, -1.63254, 0.0831374, 0.929548, 0.371991, 0.30826, -0.00340372, -0.360186, 0.927818, -6.22179, 0.846604, -0.0624916, -0.529393, -1.57272, 0.280626, 0.896233, 0.356494, 0.165183, 0.452229, -0.43916, 0.769841, -6.56251, 0.241463, 0.00438933, -0.970352, -1.29356, 0.477905, 0.869779, 0.128402, 0.0643128, 0.844573, -0.493423, 0.204766, -6.76676, -0.0189904, 0.0351023, -0.999119, -0.929821, 0.498077, 0.866879, 0.0229973, 0.0344712, 0.866925, -0.497281, -0.0350989, -6.80232, -0.122428, 0.0470282, -0.991312, -0.560917, 0.498277, 0.866778, -0.0194859, 0.0325918, 0.858331, -0.496472, -0.130084, -6.77448, -0.174957, 0.0529401, -0.983121, -0.194927, 0.496666, 0.86694, -0.0411972, 0.0431283, 0.850125, -0.495594, -0.178259, -6.71893, -0.203029, 0.0560787, -0.977547, 0.167948, 0.49532, 0.867084, -0.0528389, 0.0601282, 0.844652, -0.494995, -0.203987, -6.64909, -0.216536, 0.057646, -0.974562, 0.529337, 0.49455, 0.867172, -0.058448, 0.0805635, 0.841743, -0.494661, -0.216363, -6.57165)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_iwxy6"]
transparency = 1
albedo_color = Color(1, 0, 0, 0.270588)

[node name="RailSegment" type="Node3D"]
script = ExtResource("1_3o5ql")
plank_interval = 0.37

[node name="SegmentPath" type="Path3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.581619, 0, 1.66097)
curve = SubResource("Curve3D_m6w3m")

[node name="TrackRight" type="CSGPolygon3D" parent="SegmentPath"]
polygon = PackedVector2Array(0.51, 0.09, 0.54, 0.09, 0.57, 0.05, 0.56, 0, 0.49, 0, 0.48, 0.05)
mode = 2
path_node = NodePath("..")
path_interval_type = 0
path_interval = 0.1
path_simplify_angle = 0.0
path_rotation = 2
path_rotation_accurate = false
path_local = true
path_continuous_u = true
path_u_distance = 1.0
path_joined = false
smooth_faces = true
material = ExtResource("2_iwxy6")

[node name="TrackLeft" type="CSGPolygon3D" parent="SegmentPath"]
polygon = PackedVector2Array(-0.52, 0, -0.53, 0.05, -0.5, 0.09, -0.47, 0.09, -0.44, 0.05, -0.45, 0)
mode = 2
path_node = NodePath("..")
path_interval_type = 0
path_interval = 0.1
path_simplify_angle = 0.0
path_rotation = 2
path_rotation_accurate = false
path_local = true
path_continuous_u = true
path_u_distance = 1.0
path_joined = false
smooth_faces = true
material = ExtResource("2_iwxy6")

[node name="TrackPlanks" type="MultiMeshInstance3D" parent="SegmentPath"]
multimesh = SubResource("MultiMesh_3o5ql")

[node name="HitBox" type="CSGPolygon3D" parent="SegmentPath"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.05, 0, 0)
visible = false
polygon = PackedVector2Array(-1.2, 0.05, -1.2, 0.95, 1.2, 0.95, 1.2, 0.05)
mode = 2
path_node = NodePath("..")
path_interval_type = 0
path_interval = 0.5
path_simplify_angle = 0.0
path_rotation = 2
path_rotation_accurate = false
path_local = true
path_continuous_u = true
path_u_distance = 1.0
path_joined = false
material = SubResource("StandardMaterial3D_iwxy6")

[connection signal="curve_changed" from="SegmentPath" to="." method="_on_path_3d_curve_changed"]
