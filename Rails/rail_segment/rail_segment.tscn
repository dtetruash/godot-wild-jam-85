[gd_scene load_steps=8 format=3 uid="uid://jx72y87c7ysq"]

[ext_resource type="Script" uid="uid://d0ad6bibyrsdr" path="res://Rails/rail_segment/rail_segment.gd" id="1_3o5ql"]
[ext_resource type="Material" uid="uid://dw0olshq03fku" path="res://Rails/rail_segment/material_rail_metail.material" id="2_iwxy6"]
[ext_resource type="Material" uid="uid://blhjihxmpbdy" path="res://Rails/rail_segment/rail_wood.material" id="3_iwxy6"]

[sub_resource type="Curve3D" id="Curve3D_m6w3m"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, -2, 0, 0, -1.25, 0.12, 0.125, 1.25, -0.12, -0.125, 2, 0, 0, 0, 0, 0.95, 0, 0, -0.95, 4.1, 0.9, -2.25, 2.25, 0, 0, -2.25, 0, 0, 2.11651, 0.900024, -4.78387, 1.1, 0, 0, -1.1, 0, 0, -1.95, 0.9, -4.75, 0.05, 0.15, 0.8, -0.05, -0.15, -0.8, -3.3, 0.25, -6.65, -0.85, 0, 0.05, 0.85, 0, -0.05, -2.455, -0.25, -8.17, 0, 0, 0, 0, 0, 0, 4.1, -0.05, -8),
"tilts": PackedFloat32Array(0, 0, 0, 0, 0, 0, 0, 0)
}
point_count = 8

[sub_resource type="BoxMesh" id="BoxMesh_qc7oo"]
material = ExtResource("3_iwxy6")
size = Vector3(1.2, 0.05, 0.2)

[sub_resource type="MultiMesh" id="MultiMesh_3o5ql"]
transform_format = 1
instance_count = 40
mesh = SubResource("BoxMesh_qc7oo")
buffer = PackedFloat32Array(-0.0363939, -0.0348937, -0.998728, -1.67063, 0, 0.99939, -0.0349168, 0.0126929, 0.999337, -0.00127076, -0.0363717, 0.0132217, -0.026452, -0.0253769, -0.999328, -1.01193, 0, 0.999678, -0.0253857, 0.0330195, 0.99965, -0.000671503, -0.0264435, 0.0343953, -0.0155127, -0.0148888, -0.999769, -0.351783, 0, 0.999889, -0.0148906, 0.0469647, 0.99988, -0.000230993, -0.015511, 0.0489216, -0.00124631, -0.00119642, -0.999999, 0.30845, 0, 0.999999, -0.00119642, 0.0532128, 0.999999, -1.49111e-06, -0.00124631, 0.05543, 0.0201552, 0.0193415, -0.99961, 0.968688, 0, 0.999813, 0.0193455, 0.0487948, 0.999797, -0.000389913, 0.0201515, 0.0508279, 0.0600659, 0.0574636, -0.996539, 1.62788, 0, 0.998342, 0.0575676, 0.0268969, 0.998194, -0.00345785, 0.0599663, 0.0280176, 0.251362, -0.0548164, -0.96634, 2.28127, 0, 0.998395, -0.0566347, -0.00843605, 0.967893, 0.0142358, 0.250958, -0.04693, 0.516819, -0.240227, -0.821699, 2.88276, 0, 0.959822, -0.280608, 0.0985877, 0.856094, 0.145024, 0.496055, -0.286175, 0.714762, -0.266494, -0.646604, 3.37594, 0, 0.924554, -0.38105, 0.317762, 0.699368, 0.27236, 0.660836, -0.662865, 0.858565, -0.19713, -0.473293, 3.75464, 0, 0.923129, -0.38449, 0.575205, 0.512705, 0.330109, 0.792566, -1.13654, 0.963918, -0.0705846, -0.256671, 4.0118, 0, 0.964205, -0.265156, 0.805105, 0.2662, 0.255589, 0.929415, -1.69494, 0.999953, 7.18878e-05, -0.00972504, 4.10152, 0, 0.999973, 0.00739183, 0.900746, 0.0097253, -0.00739148, 0.999925, -2.33718, 0.999333, 3.04638e-07, 0.0365211, 4.10799, 0, 1, -8.34142e-06, 0.900003, -0.0365211, 8.33585e-06, 0.999333, -2.99798, 0.959777, 2.67762e-06, 0.280763, 4.02636, 0, 1, -9.53695e-06, 0.90001, -0.280763, 9.15334e-06, 0.959777, -3.6516, 0.729371, 5.71053e-06, 0.684119, 3.73064, 0, 1, -8.34728e-06, 0.900017, -0.684119, 6.08826e-06, 0.729371, -4.2352, 0.351969, 5.01336e-06, 0.936012, 3.19469, 0, 1, -5.35609e-06, 0.900022, -0.936012, 1.88518e-06, 0.351969, -4.60835, 0.0929428, 2.30579e-06, 0.995671, 2.55482, 0, 1, -2.31581e-06, 0.900024, -0.995671, 2.15238e-07, 0.0929428, -4.76115, -0.0012966, -6.02508e-07, 0.999999, 1.8976, 0, 1, 6.02509e-07, 0.900024, -0.999999, 7.81212e-10, -0.0012966, -4.78376, -0.0048121, -2.98959e-06, 0.999988, 1.23355, 0, 1, 2.98962e-06, 0.900023, -0.999988, 1.43864e-08, -0.0048121, -4.78196, -0.00899719, -7.14034e-06, 0.99996, 0.573908, 0, 1, 7.14063e-06, 0.90002, -0.99996, 6.42456e-08, -0.00899719, -4.77764, -0.0131701, -8.33778e-06, 0.999913, -0.0859114, 0, 1, 8.3385e-06, 0.900015, -0.999913, 1.09819e-07, -0.0131701, -4.77049, -0.0145596, -1.0729e-05, 0.999894, -0.738534, 0, 1, 1.07301e-05, 0.900008, -0.999894, 1.56227e-07, -0.0145596, -4.76122, -0.00872823, -6.56502e-06, 0.999962, -1.40528, 0, 1, 6.56527e-06, 0.900002, -0.999962, 5.73031e-08, -0.00872822, -4.75268, 0.098169, -0.0436888, 0.99421, -2.06184, 0, 0.999036, 0.0439009, 0.897707, -0.99517, -0.00430971, 0.0980744, -4.75505, 0.639912, -0.199074, 0.742214, -2.67089, 0, 0.965861, 0.25906, 0.80362, -0.768448, -0.165776, 0.618066, -4.97192, 0.917693, -0.128638, 0.375888, -3.05096, 0, 0.946129, 0.323789, 0.606233, -0.39729, -0.297139, 0.868256, -5.46579, 0.985739, -0.0479399, 0.161311, -3.23211, 0, 0.958565, 0.284875, 0.399512, -0.168284, -0.280812, 0.944894, -6.06482, 0.998698, -0.0102675, 0.0499745, -3.30311, 0, 0.97954, 0.201251, 0.239732, -0.0510183, -0.200989, 0.978264, -6.70083, 0.990591, 0.043284, -0.129829, -3.29849, 0, 0.948667, 0.316277, 0.0707169, 0.136855, -0.313302, 0.939741, -7.33737, 0.699366, 0.20248, -0.685484, -3.08125, 0, 0.959037, 0.283282, -0.145354, 0.714763, -0.198118, 0.670718, -7.91162, 0.0686441, 0.00639611, -0.997621, -2.49739, 0, 0.999979, 0.00641123, -0.24936, 0.997641, -0.000440094, 0.0686427, -8.16632, -0.00903633, -0.0244163, -0.999661, -1.83781, 0, 0.999702, -0.0244173, -0.239236, 0.999959, -0.000220643, -0.00903363, -8.1764, -0.0201442, -0.0284101, -0.999393, -1.18193, 0, 0.999596, -0.0284158, -0.221872, 0.999797, -0.000572414, -0.0201361, -8.16675, -0.0253741, -0.0302783, -0.999219, -0.522455, 0, 0.999541, -0.030288, -0.20254, 0.999678, -0.000768532, -0.0253625, -8.15184, -0.0286374, -0.0314445, -0.999095, 0.137199, 0, 0.999505, -0.0314574, -0.182192, 0.99959, -0.000900859, -0.0286232, -8.13412, -0.0309384, -0.0322723, -0.999, 0.796589, 0, 0.999479, -0.0322877, -0.161184, 0.999521, -0.000998932, -0.0309223, -8.11454, -0.0327322, -0.0329118, -0.998922, 1.456, 0, 0.999458, -0.0329294, -0.139684, 0.999464, -0.00107785, -0.0327144, -8.09361, -0.0342192, -0.0334369, -0.998855, 2.11519, 0, 0.99944, -0.0334565, -0.117801, 0.999414, -0.00114485, -0.0342, -8.0716, -0.0354961, -0.0338963, -0.998795, 2.77468, 0, 0.999425, -0.0339177, -0.0955794, 0.99937, -0.00120395, -0.0354757, -8.04866, -0.0367212, -0.0343412, -0.998735, 3.43543, 0, 0.999409, -0.0343644, -0.0730167, 0.999326, -0.0012619, -0.0366995, -8.02485)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_iwxy6"]
transparency = 1
albedo_color = Color(1, 0, 0, 0.270588)

[node name="RailSegment" type="Node3D"]
script = ExtResource("1_3o5ql")
plank_interval = 0.65

[node name="SegmentPath" type="Path3D" parent="."]
curve = SubResource("Curve3D_m6w3m")

[node name="TrackRight" type="CSGPolygon3D" parent="SegmentPath"]
polygon = PackedVector2Array(0.51, 0.09, 0.54, 0.09, 0.57, 0.05, 0.56, 0, 0.49, 0, 0.48, 0.05)
mode = 2
path_node = NodePath("..")
path_interval_type = 0
path_interval = 1.0
path_simplify_angle = 0.0
path_rotation = 2
path_rotation_accurate = false
path_local = true
path_continuous_u = true
path_u_distance = 1.0
path_joined = false
smooth_faces = true
material = ExtResource("2_iwxy6")

[node name="TrackLeft" type="CSGPolygon3D" parent="SegmentPath"]
polygon = PackedVector2Array(-0.52, 0, -0.53, 0.05, -0.5, 0.09, -0.47, 0.09, -0.44, 0.05, -0.45, 0)
mode = 2
path_node = NodePath("..")
path_interval_type = 0
path_interval = 1.0
path_simplify_angle = 0.0
path_rotation = 2
path_rotation_accurate = false
path_local = true
path_continuous_u = true
path_u_distance = 1.0
path_joined = false
smooth_faces = true
material = ExtResource("2_iwxy6")

[node name="TrackPlanks" type="MultiMeshInstance3D" parent="SegmentPath"]
multimesh = SubResource("MultiMesh_3o5ql")

[node name="HitBox" type="CSGPolygon3D" parent="SegmentPath"]
visible = false
polygon = PackedVector2Array(-1.2, 0.05, -1.2, 0.95, 1.2, 0.95, 1.2, 0.05)
mode = 2
path_node = NodePath("..")
path_interval_type = 0
path_interval = 0.5
path_simplify_angle = 0.0
path_rotation = 2
path_rotation_accurate = false
path_local = true
path_continuous_u = true
path_u_distance = 1.0
path_joined = false
material = SubResource("StandardMaterial3D_iwxy6")

[node name="PathFollow3D" type="PathFollow3D" parent="SegmentPath"]
transform = Transform3D(0.998141, 5.16145e-07, 0.0597118, 0, 0.999958, -8.64315e-06, -0.0597113, 8.62794e-06, 0.998149, 4.1019, 1.4, -3.14343)
progress = 8.39551
v_offset = 0.5
rotation_mode = 2
loop = false

[node name="CSGBox3D" type="CSGBox3D" parent="SegmentPath/PathFollow3D"]

[node name="RemoteTransform3D" type="RemoteTransform3D" parent="SegmentPath/PathFollow3D"]

[connection signal="curve_changed" from="SegmentPath" to="." method="_on_path_3d_curve_changed"]
