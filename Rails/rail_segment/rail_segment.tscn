[gd_scene load_steps=8 format=3 uid="uid://jx72y87c7ysq"]

[ext_resource type="Script" uid="uid://d0ad6bibyrsdr" path="res://Rails/rail_segment/rail_segment.gd" id="1_3o5ql"]
[ext_resource type="Material" uid="uid://dw0olshq03fku" path="res://Rails/rail_segment/material_rail_metail.material" id="2_iwxy6"]
[ext_resource type="Material" uid="uid://blhjihxmpbdy" path="res://Rails/rail_segment/rail_wood.material" id="3_iwxy6"]

[sub_resource type="Curve3D" id="Curve3D_m6w3m"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, -3.85, 0, -0.05, 0, 0, 0, 0, 0, 0, 3.3, 0, -0.05),
"tilts": PackedFloat32Array(0, 0)
}
point_count = 2

[sub_resource type="BoxMesh" id="BoxMesh_qc7oo"]
material = ExtResource("3_iwxy6")
size = Vector3(1.2, 0.05, 0.2)

[sub_resource type="MultiMesh" id="MultiMesh_3o5ql"]
transform_format = 1
instance_count = 23
mesh = SubResource("BoxMesh_qc7oo")
buffer = PackedFloat32Array(-3.76656e-08, 0, -1, -3.70291, 0, 1, 0, 0, 1, 0, -3.76656e-08, -0.05, -3.58506e-08, 0, -1, -3.40152, 0, 1, 0, 0, 1, 0, -3.58506e-08, -0.05, 0, 0, -1, -3.09957, 0, 1, 0, 0, 1, 0, 0, -0.05, 0, 0, -1, -2.80067, 0, 1, 0, 0, 1, 0, 0, -0.05, 3.73119e-08, 0, -1, -2.50039, 0, 1, 0, 0, 1, 0, 3.73119e-08, -0.05, 0, 0, -1, -2.20011, 0, 1, 0, 0, 1, 0, 0, -0.05, -1.12115e-07, 0, -1, -1.90004, 0, 1, 0, 0, 1, 0, -1.12115e-07, -0.05, 0, 0, -1, -1.6001, 0, 1, 0, 0, 1, 0, 0, -0.05, 0, 0, -1, -1.30016, 0, 1, 0, 0, 1, 0, 0, -0.05, 0, 0, -1, -1.00016, 0, 1, 0, 0, 1, 0, 0, -0.05, 0, 0, -1, -0.700103, 0, 1, 0, 0, 1, 0, 0, -0.05, 3.72455e-08, 0, -1, -0.400023, 0, 1, 0, 0, 1, 0, 3.72455e-08, -0.05, 0, 0, -1, -0.0999929, 0, 1, 0, 0, 1, 0, 0, -0.05, 0, 0, -1, 0.200062, 0, 1, 0, 0, 1, 0, 0, -0.05, 0, 0, -1, 0.500171, 0, 1, 0, 0, 1, 0, 0, -0.05, 0, 0, -1, 0.800266, 0, 1, 0, 0, 1, 0, 0, -0.05, 0, 0, -1, 1.10033, 0, 1, 0, 0, 1, 0, 0, -0.05, 0, 0, -1, 1.40039, 0, 1, 0, 0, 1, 0, 0, -0.05, 0, 0, -1, 1.70049, 0, 1, 0, 0, 1, 0, 0, -0.05, -3.7254e-08, 0, -1, 2.00058, 0, 1, 0, 0, 1, 0, -3.7254e-08, -0.05, 0, 0, -1, 2.30013, 0, 1, 0, 0, 1, 0, 0, -0.05, 3.70246e-08, 0, -1, 2.59405, 0, 1, 0, 0, 1, 0, 3.70246e-08, -0.05, 0, 0, -1, 2.90366, 0, 1, 0, 0, 1, 0, 0, -0.05)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_iwxy6"]
transparency = 1
albedo_color = Color(1, 0, 0, 0.270588)

[node name="RailSegment" type="Node3D"]
script = ExtResource("1_3o5ql")
plank_interval = 0.3

[node name="SegmentPath" type="Path3D" parent="."]
curve = SubResource("Curve3D_m6w3m")

[node name="TrackRight" type="CSGPolygon3D" parent="SegmentPath"]
polygon = PackedVector2Array(0.51, 0.09, 0.54, 0.09, 0.57, 0.05, 0.56, 0, 0.49, 0, 0.48, 0.05)
mode = 2
path_node = NodePath("..")
path_interval_type = 0
path_interval = 0.1
path_simplify_angle = 0.0
path_rotation = 2
path_rotation_accurate = false
path_local = true
path_continuous_u = true
path_u_distance = 1.0
path_joined = false
smooth_faces = true
material = ExtResource("2_iwxy6")

[node name="TrackLeft" type="CSGPolygon3D" parent="SegmentPath"]
polygon = PackedVector2Array(-0.52, 0, -0.53, 0.05, -0.5, 0.09, -0.47, 0.09, -0.44, 0.05, -0.45, 0)
mode = 2
path_node = NodePath("..")
path_interval_type = 0
path_interval = 0.1
path_simplify_angle = 0.0
path_rotation = 2
path_rotation_accurate = false
path_local = true
path_continuous_u = true
path_u_distance = 1.0
path_joined = false
smooth_faces = true
material = ExtResource("2_iwxy6")

[node name="TrackPlanks" type="MultiMeshInstance3D" parent="SegmentPath"]
multimesh = SubResource("MultiMesh_3o5ql")

[node name="HitBox" type="CSGPolygon3D" parent="SegmentPath"]
visible = false
polygon = PackedVector2Array(-1.2, 0.05, -1.2, 0.95, 1.2, 0.95, 1.2, 0.05)
mode = 2
path_node = NodePath("..")
path_interval_type = 0
path_interval = 0.5
path_simplify_angle = 0.0
path_rotation = 2
path_rotation_accurate = false
path_local = true
path_continuous_u = true
path_u_distance = 1.0
path_joined = false
material = SubResource("StandardMaterial3D_iwxy6")

[connection signal="curve_changed" from="SegmentPath" to="." method="_on_path_3d_curve_changed"]
