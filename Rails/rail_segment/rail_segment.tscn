[gd_scene load_steps=8 format=3 uid="uid://jx72y87c7ysq"]

[ext_resource type="Script" uid="uid://d0ad6bibyrsdr" path="res://Rails/rail_segment/rail_segment.gd" id="1_3o5ql"]
[ext_resource type="Material" uid="uid://dw0olshq03fku" path="res://Rails/rail_segment/material_rail_metail.material" id="2_iwxy6"]
[ext_resource type="Material" uid="uid://blhjihxmpbdy" path="res://Rails/rail_segment/rail_wood.material" id="3_iwxy6"]

[sub_resource type="Curve3D" id="Curve3D_m6w3m"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, -4.7, 0, 0, -1.15, 0.1, 0, 1.15, -0.1, 0, 2.15, 0, -0.05, -0.05, -0.35, 1.35, 0.05, 0.35, -1.35, 4.6, 0.6, -2.05, 1.6, 0, 0, -1.6, 0, 0, 2.1, 0.9, -4.25, 1.35, 0, 0, -1.35, 0, 0, -1.8, 0.9, -4.2, 0, 0.4, 1.25, 0, -0.4, -1.25, -4.2, 0.25, -6.2, -0.85, 0, 0.05, 0.85, 0, -0.05, -2.05, -0.25, -8.15, 0, 0, 0, 0, 0, 0, 5.1, -0.05, -8.15),
"tilts": PackedFloat32Array(0, 0, 0, 0, 0, 0, 0, 0)
}
point_count = 8

[sub_resource type="BoxMesh" id="BoxMesh_qc7oo"]
material = ExtResource("3_iwxy6")
size = Vector3(1.2, 0.05, 0.2)

[sub_resource type="MultiMesh" id="MultiMesh_3o5ql"]
transform_format = 1
instance_count = 49
mesh = SubResource("BoxMesh_qc7oo")
buffer = PackedFloat32Array(0.00860862, -0.0155995, -0.999841, -4.37424, 0, 0.999878, -0.0156001, 0.00535663, 0.999963, 0.000134295, 0.00860757, -0.00282749, 0.00845799, -0.0138055, -0.999869, -3.72145, 0, 0.999905, -0.013806, 0.0150479, 0.999964, 0.000116771, 0.00845719, -0.00840583, 0.00831532, -0.012106, -0.999892, -3.07544, 0, 0.999927, -0.0121064, 0.0235126, 0.999965, 0.000100669, 0.00831471, -0.0138318, 0.00815712, -0.0102219, -0.999914, -2.4253, 0, 0.999948, -0.0102222, 0.0308773, 0.999967, 8.33837e-05, 0.00815669, -0.0191955, 0.00797367, -0.0080367, -0.999936, -1.77546, 0, 0.999968, -0.00803695, 0.0369397, 0.999968, 6.4084e-05, 0.00797341, -0.0244478, 0.00774982, -0.00536958, -0.999956, -1.12538, 0, 0.999986, -0.00536974, 0.0414635, 0.99997, 4.16145e-05, 0.0077497, -0.0295726, 0.00746, -0.00191692, -0.99997, -0.475284, 0, 0.999998, -0.00191697, 0.0440574, 0.999972, 1.43006e-05, 0.00745999, -0.0345356, 0.0070545, 0.0029128, -0.999971, 0.17469, 0, 0.999996, 0.00291288, 0.0440725, 0.999975, -2.05489e-05, 0.00705447, -0.0392812, 0.00641547, 0.0105256, -0.999924, 0.824813, 0, 0.999945, 0.0105258, 0.0402994, 0.999979, -6.75278e-05, 0.00641512, -0.0437099, 0.00507612, 0.0264746, -0.999637, 1.46927, 0, 0.999649, 0.0264749, 0.0301461, 0.999987, -0.00013439, 0.00507434, -0.0475617, 0.011083, 0.0765088, -0.997007, 2.12507, 0, 0.997069, 0.0765135, 0.00188257, 0.999939, -0.000848002, 0.0110505, -0.0498567, 0.216501, -0.0475412, -0.975124, 2.76897, 0, 0.998814, -0.0486961, -0.0130544, 0.976282, 0.0105428, 0.216244, -0.112615, 0.432862, -0.136099, -0.891127, 3.38326, 0, 0.988537, -0.150976, 0.0480323, 0.90146, 0.0653517, 0.427901, -0.310963, 0.662328, -0.170524, -0.72955, 3.92276, 0, 0.973754, -0.227604, 0.168746, 0.749214, 0.150749, 0.644945, -0.648868, 0.869049, -0.13295, -0.476528, 4.33185, 0, 0.963214, -0.268735, 0.330242, 0.494727, 0.233544, 0.83708, -1.12365, 0.98373, -0.0476326, -0.173224, 4.55854, 0, 0.964211, -0.265136, 0.506177, 0.179653, 0.260822, 0.948523, -1.70371, 0.995854, 0.020004, 0.0887374, 4.59561, 0, 0.97552, -0.219911, 0.668807, -0.0909642, 0.218999, 0.971476, -2.33049, 0.922048, 0.0570191, 0.382854, 4.46018, 0, 0.989091, -0.147307, 0.792543, -0.387076, 0.135824, 0.911989, -2.9513, 0.728981, 0.0487482, 0.682796, 4.12592, 0, 0.997461, -0.0712136, 0.866773, -0.684534, 0.0519134, 0.72713, -3.49962, 0.470415, 0.0170498, 0.88228, 3.62063, 0, 0.999813, -0.0193211, 0.897032, -0.882445, 0.00908893, 0.470328, -3.90244, 0.235596, -0.0015434, 0.97185, 3.01809, 0, 0.999999, 0.0015881, 0.902448, -0.971851, -0.000374149, 0.235595, -4.14096, 0.0527912, -0.0024645, 0.998603, 2.37668, 0, 0.999997, 0.00246794, 0.900432, -0.998606, -0.000130286, 0.0527911, -4.24117, -0.0055787, 5.96516e-07, 0.999984, 1.72627, 0, 1, -5.96525e-07, 0.9, -0.999984, -3.32783e-09, -0.0055787, -4.24908, -0.0137412, 5.96557e-07, 0.999906, 1.07641, 0, 1, -5.96613e-07, 0.9, -0.999906, -8.19818e-09, -0.0137412, -4.24315, -0.0194984, 5.95804e-07, 0.99981, 0.426681, 0, 1, -5.95918e-07, 0.9, -0.99981, -1.16195e-08, -0.0194984, -4.23244, -0.0201558, -5.96065e-07, 0.999797, -0.223104, 0, 1, 5.96186e-07, 0.9, -0.999797, 1.20166e-08, -0.0201558, -4.21925, -0.0144442, -5.9582e-07, 0.999896, -0.872887, 0, 1, 5.95883e-07, 0.9, -0.999896, 8.60704e-09, -0.0144442, -4.2074, -0.00410885, 0, 0.999992, -1.52275, 0, 1, 0, 0.9, -0.999992, 0, -0.00410885, -4.2007, 0.122449, -0.0403315, 0.991655, -2.17218, 0, 0.999174, 0.0406373, 0.893454, -0.992475, -0.004976, 0.122348, -4.21968, 0.337648, -0.104252, 0.935481, -2.80481, 0, 0.993847, 0.110757, 0.848225, -0.941272, -0.0373968, 0.335571, -4.35628, 0.581505, -0.152283, 0.799163, -3.38048, 0, 0.982324, 0.187186, 0.755337, -0.813543, -0.108849, 0.571227, -4.63864, 0.815936, -0.148221, 0.558819, -3.83916, 0, 0.966577, 0.256375, 0.613698, -0.578142, -0.209186, 0.788665, -5.07241, 0.96498, -0.0779102, 0.250487, -4.11882, 0, 0.954877, 0.297, 0.434003, -0.262324, -0.286599, 0.921438, -5.62723, 0.998822, 0.0146106, -0.0462659, -4.19951, 0, 0.953581, 0.301137, 0.237446, 0.0485181, -0.300783, 0.952458, -6.23941, 0.910131, 0.103839, -0.401097, -4.07194, 0, 0.968084, 0.250624, 0.0536093, 0.41432, -0.228101, 0.881084, -6.84581, 0.713458, 0.122871, -0.689841, -3.72556, 0, 0.984505, 0.175355, -0.0889997, 0.700698, -0.125109, 0.702404, -7.37293, 0.503804, 0.0921183, -0.858892, -3.22432, 0, 0.994298, 0.106641, -0.18293, 0.863818, -0.0537261, 0.500932, -7.77258, 0.284329, 0.0447785, -0.95768, -2.63386, 0, 0.998909, 0.0467062, -0.234647, 0.958727, -0.0132799, 0.284019, -8.03753, 0.0326709, -0.0112601, -0.999403, -1.99527, 0, 0.999937, -0.0112661, -0.249855, 0.999466, 0.000368074, 0.0326688, -8.15314, 0.00991738, -0.0232503, -0.99968, -1.34796, 0, 0.99973, -0.0232514, -0.238049, 0.999951, 0.000230593, 0.0099147, -8.16617, 0.00374573, -0.026181, -0.99965, -0.697608, 0, 0.999657, -0.0261811, -0.221986, 0.999993, 9.80676e-05, 0.00374445, -8.17064, 0.000630135, -0.0276621, -0.999617, -0.0479666, 0, 0.999617, -0.0276621, -0.204523, 1, 1.74309e-05, 0.000629894, -8.17213, -0.00136505, -0.0286069, -0.99959, 0.601939, 0, 0.999591, -0.0286069, -0.186259, 0.999999, -3.90499e-05, -0.00136449, -8.17195, -0.00277566, -0.0292829, -0.999567, 1.2517, 0, 0.999571, -0.029283, -0.167468, 0.999996, -8.12795e-05, -0.00277447, -8.17066, -0.00388636, -0.0298049, -0.999548, 1.90153, 0, 0.999556, -0.0298051, -0.14828, 0.999992, -0.000115834, -0.00388464, -8.16853, -0.00478284, -0.0302315, -0.999532, 2.55138, 0, 0.999543, -0.0302319, -0.128781, 0.999989, -0.000144594, -0.00478066, -8.16575, -0.00554542, -0.030598, -0.999516, 3.20088, 0, 0.999532, -0.0305985, -0.109033, 0.999985, -0.000169681, -0.00554282, -8.16243, -0.00625363, -0.0309309, -0.999502, 3.85076, 0, 0.999522, -0.0309315, -0.0890452, 0.99998, -0.000193434, -0.00625063, -8.15863, -0.00694486, -0.0312628, -0.999487, 4.5007, 0, 0.999511, -0.0312635, -0.0688412, 0.999976, -0.000217121, -0.00694146, -8.15437)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_iwxy6"]
transparency = 1
albedo_color = Color(1, 0, 0, 0.270588)

[node name="RailSegment" type="Node3D"]
script = ExtResource("1_3o5ql")
plank_interval = 0.65

[node name="SegmentPath" type="Path3D" parent="."]
curve = SubResource("Curve3D_m6w3m")

[node name="TrackRight" type="CSGPolygon3D" parent="SegmentPath"]
polygon = PackedVector2Array(0.51, 0.09, 0.54, 0.09, 0.57, 0.05, 0.56, 0, 0.49, 0, 0.48, 0.05)
mode = 2
path_node = NodePath("..")
path_interval_type = 0
path_interval = 0.1
path_simplify_angle = 0.0
path_rotation = 1
path_rotation_accurate = true
path_local = false
path_continuous_u = true
path_u_distance = 1.0
path_joined = false
smooth_faces = true
material = ExtResource("2_iwxy6")

[node name="TrackLeft" type="CSGPolygon3D" parent="SegmentPath"]
polygon = PackedVector2Array(-0.52, 0, -0.53, 0.05, -0.5, 0.09, -0.47, 0.09, -0.44, 0.05, -0.45, 0)
mode = 2
path_node = NodePath("..")
path_interval_type = 0
path_interval = 0.1
path_simplify_angle = 0.0
path_rotation = 1
path_rotation_accurate = true
path_local = false
path_continuous_u = true
path_u_distance = 1.0
path_joined = false
smooth_faces = true
material = ExtResource("2_iwxy6")

[node name="TrackPlanks" type="MultiMeshInstance3D" parent="SegmentPath"]
multimesh = SubResource("MultiMesh_3o5ql")

[node name="HitBox" type="CSGPolygon3D" parent="SegmentPath"]
visible = false
polygon = PackedVector2Array(-1.2, 0.05, -1.2, 0.95, 1.2, 0.95, 1.2, 0.05)
mode = 2
path_node = NodePath("..")
path_interval_type = 0
path_interval = 0.5
path_simplify_angle = 0.0
path_rotation = 1
path_rotation_accurate = false
path_local = true
path_continuous_u = true
path_u_distance = 1.0
path_joined = false
material = SubResource("StandardMaterial3D_iwxy6")

[node name="PathFollow3D" type="PathFollow3D" parent="SegmentPath"]
transform = Transform3D(0.00729809, 0, -0.999833, 0, 0.999869, 0, 0.999822, 0, 0.00729817, -4.7, 0.5, 0)
v_offset = 0.5
rotation_mode = 2
loop = false

[node name="CSGBox3D" type="CSGBox3D" parent="SegmentPath/PathFollow3D"]

[node name="RemoteTransform3D" type="RemoteTransform3D" parent="SegmentPath/PathFollow3D"]

[connection signal="curve_changed" from="SegmentPath" to="." method="_on_path_3d_curve_changed"]
