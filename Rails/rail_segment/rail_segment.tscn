[gd_scene load_steps=8 format=3 uid="uid://jx72y87c7ysq"]

[ext_resource type="Script" uid="uid://d0ad6bibyrsdr" path="res://Rails/rail_segment/rail_segment.gd" id="1_3o5ql"]
[ext_resource type="Material" uid="uid://dw0olshq03fku" path="res://Rails/rail_segment/material_rail_metail.material" id="2_iwxy6"]
[ext_resource type="Material" uid="uid://blhjihxmpbdy" path="res://Rails/rail_segment/rail_wood.material" id="3_iwxy6"]

[sub_resource type="Curve3D" id="Curve3D_m6w3m"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, 0.15, 0.95, -1.5, 0, 0, 0, 0, 0, 0, -6.25, 0.95, 0.7, 0, 0, 0, 0, 0, 0, -6.45, 0.95, -3.7, 0, 0, 0, 0, 0, 0, -6.05, 0.95, -4.8, 0, 0, 0, 0, 0, 0, -5.05, 0.95, -5.05, 0, 0, 0, 0, 0, 0, -2.15, 0.6, -4.25, 0, 0, 0, 0, 0, 0, -1.45, 0.6, -5.2, 0, 0, 0, 0, 0, 0, -1.45, 0.1, -6.7, 0, 0, 0, 0, 0, 0, 0.85, 0.1, -6.5),
"tilts": PackedFloat32Array(0, 0, 0, 0, 0, 0, 0, 0, 0)
}
point_count = 9

[sub_resource type="BoxMesh" id="BoxMesh_qc7oo"]
material = ExtResource("3_iwxy6")
size = Vector3(1.2, 0.05, 0.2)

[sub_resource type="MultiMesh" id="MultiMesh_3o5ql"]
transform_format = 1
instance_count = 21
mesh = SubResource("BoxMesh_qc7oo")
buffer = PackedFloat32Array(-0.325081, 0, 0.945686, -0.323475, 0, 1, 0, 0.95, -0.945686, 0, -0.325081, -1.33724, -0.325078, 0, 0.945687, -1.26807, 0, 1, 0, 0.95, -0.945687, 0, -0.325078, -1.01254, -0.32508, 0, 0.945687, -2.21402, 0, 1, 0, 0.95, -0.945687, 0, -0.32508, -0.687367, -0.32508, 0, 0.945687, -3.15992, 0, 1, 0, 0.95, -0.945687, 0, -0.32508, -0.362214, -0.325078, 0, 0.945687, -4.10573, 0, 1, 5.95878e-07, 0.95, -0.945687, 0, -0.325078, -0.0370932, -0.325079, 0, 0.945687, -5.05171, 0, 1, 0, 0.95, -0.945687, 0, -0.325079, 0.288088, -0.32508, 0, 0.945687, -5.99914, 0, 1, 6.09891e-07, 0.95, -0.945687, 0, -0.32508, 0.613768, 0.998969, 0, 0.0454084, -6.2832, 0, 1, -1.18374e-06, 0.95, -0.0454084, 0, 0.998969, -0.0304346, 0.998968, 0, 0.0454118, -6.32866, 0, 1, -5.95892e-07, 0.95, -0.0454118, 0, 0.998968, -1.03053, 0.998969, 0, 0.0454078, -6.37402, 0, 1, 0, 0.95, -0.0454078, 0, 0.998969, -2.02837, 0.998969, 0, 0.0453996, -6.41951, 0, 1, 0, 0.95, -0.0453996, 0, 0.998969, -3.02921, 0.939795, 0, -0.341738, -6.33608, 0, 1, 6.02424e-07, 0.95, 0.341738, 0, 0.939795, -4.01327, 0.242155, 0, -0.970238, -5.89735, 0, 1, -6.07331e-07, 0.95, 0.970238, 0, 0.242155, -4.8382, -0.262696, 0.116338, -0.957449, -4.92896, 0.0302825, 0.993209, 0.115621, 0.935398, 0.964403, 0.00050258, -0.264432, -5.01664, -0.262408, 0.119456, -0.957534, -3.97147, 0.0302713, 0.992839, 0.115564, 0.819832, 0.964482, 0.00133924, -0.264145, -4.75247, -0.262414, 0.119456, -0.957533, -3.01309, 0.030272, 0.992839, 0.115564, 0.704166, 0.96448, 0.00133924, -0.264151, -4.48809, 0.840384, 0.0726096, -0.539783, -2.09114, -0.0632253, 0.997353, -0.00807111, 0.599123, 0.538291, 0.00378617, 0.841765, -4.31801, 0.852469, 0.0395646, -0.518356, -1.491, -0.0489602, 0.998792, 0.050071, 0.601473, 0.520481, 0.0291529, 0.853698, -5.13993, 0.9879, 0.155095, -1.18432e-06, -1.45, -0.147136, 0.937204, 0.316225, 0.309633, 0.049046, -0.312401, 0.948684, -6.0711, -0.0849987, 0.0167562, -0.99624, -1.11632, 0.193423, 0.981115, 0, 0.1, 0.977427, -0.192696, -0.0866347, -6.67099, -0.0850033, 0.0167562, -0.99624, -0.118028, 0.193423, 0.981115, 7.44264e-08, 0.1, 0.977426, -0.192696, -0.0866394, -6.58418)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_iwxy6"]
transparency = 1
albedo_color = Color(1, 0, 0, 0.270588)

[node name="RailSegment" type="Node3D"]
script = ExtResource("1_3o5ql")
plank_interval = 1.0
should_smooth_segment = null

[node name="SegmentPath" type="Path3D" parent="."]
curve = SubResource("Curve3D_m6w3m")

[node name="TrackRight" type="CSGPolygon3D" parent="SegmentPath"]
polygon = PackedVector2Array(0.51, 0.09, 0.54, 0.09, 0.57, 0.05, 0.56, 0, 0.49, 0, 0.48, 0.05)
mode = 2
path_node = NodePath("..")
path_interval_type = 0
path_interval = 1.0
path_simplify_angle = 0.0
path_rotation = 2
path_rotation_accurate = false
path_local = true
path_continuous_u = true
path_u_distance = 1.0
path_joined = false
smooth_faces = true
material = ExtResource("2_iwxy6")

[node name="TrackLeft" type="CSGPolygon3D" parent="SegmentPath"]
polygon = PackedVector2Array(-0.52, 0, -0.53, 0.05, -0.5, 0.09, -0.47, 0.09, -0.44, 0.05, -0.45, 0)
mode = 2
path_node = NodePath("..")
path_interval_type = 0
path_interval = 1.0
path_simplify_angle = 0.0
path_rotation = 2
path_rotation_accurate = false
path_local = true
path_continuous_u = true
path_u_distance = 1.0
path_joined = false
smooth_faces = true
material = ExtResource("2_iwxy6")

[node name="TrackPlanks" type="MultiMeshInstance3D" parent="SegmentPath"]
multimesh = SubResource("MultiMesh_3o5ql")

[node name="HitBox" type="CSGPolygon3D" parent="SegmentPath"]
visible = false
polygon = PackedVector2Array(-1.2, 0.05, -1.2, 0.95, 1.2, 0.95, 1.2, 0.05)
mode = 2
path_node = NodePath("..")
path_interval_type = 0
path_interval = 0.5
path_simplify_angle = 0.0
path_rotation = 2
path_rotation_accurate = false
path_local = true
path_continuous_u = true
path_u_distance = 1.0
path_joined = false
material = SubResource("StandardMaterial3D_iwxy6")

[connection signal="curve_changed" from="SegmentPath" to="." method="_on_path_3d_curve_changed"]
